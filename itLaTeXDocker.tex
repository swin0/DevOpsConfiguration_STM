\chapter{LaTeX Docker \\ 
\small{\textit{-- Tamara Gonzalez Ibarra, Michelle Elias Flores, Sydney Winstead}}}
\index{LaTeX Docker}
\index{Chapter!itLaTeXDocker}
\label{Chapter::itLaTeXDocker}

\section{Overview}

This chapter demonstrates how to create a minimal Docker container capable of compiling \LaTeX{} documents using \texttt{TeX Live}. This setup mimics how Overleaf performs compilations in isolated environments. Using Docker ensures reproducibility, portability, and isolation â€” essential for consistent document builds across different systems.

\section{Requirements}

Before proceeding, ensure Docker is installed and running:

\begin{minted}[fontsize=\small, bgcolor=lightgray!10]{bash}
docker --version
\end{minted}

You will also need a simple \LaTeX{} document to compile and a Dockerfile that defines the build environment.

\section{Minimal Project Structure}

We start with a simple directory structure (ASCII-safe):

\begin{minted}[fontsize=\small, bgcolor=lightgray!10]{text}
latex-docker/
|-- Dockerfile
`-- main.tex
\end{minted}

\section{The LaTeX Document}

Here is a minimal \texttt{main.tex} document (no \verb|\begin{document}| inside minted):

\begin{minted}[fontsize=\small, bgcolor=lightgray!10]{latex}
\documentclass{article}
\usepackage{lipsum}

\begin{document}

\section*{Hello from Docker \& TeX Live!}
\lipsum[1]

\end{document}
\end{minted}

\section{Dockerfile Explanation}

The Dockerfile defines the environment needed to build and compile the document:

\begin{minted}[fontsize=\small, bgcolor=lightgray!10]{docker}
# Use a minimal base image
FROM ubuntu:22.04

# Set noninteractive mode for installation
ENV DEBIAN_FRONTEND=noninteractive

# Install TeX Live packages
RUN apt-get update && \
    apt-get install -y --no-install-recommends \
        texlive-latex-base \
        texlive-latex-recommended \
        texlive-latex-extra \
        texlive-fonts-recommended \
        latexmk && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Set the working directory
WORKDIR /data

# Command to compile LaTeX documents
ENTRYPOINT ["latexmk", "-pdf", "-interaction=nonstopmode"]
\end{minted}

\section{Building the Docker Image}

Build the image from the same directory as your Dockerfile:

\begin{minted}[fontsize=\small, bgcolor=lightgray!10]{bash}
docker build -t latex-docker .
\end{minted}

This creates a Docker image named \texttt{latex-docker} with all dependencies to compile \LaTeX{} documents.

\section{Compiling the Document}

Compile your document by mounting the current directory:

\begin{minted}[fontsize=\small, bgcolor=lightgray!10]{bash}
docker run --rm -v $(pwd):/data latex-docker main.tex
\end{minted}

After execution, you should find a compiled \texttt{main.pdf} in your directory.

\section{Conclusion}

Using Docker with TeX Live provides a reproducible and portable environment for \LaTeX{} compilation. This mirrors Overleaf's backend concept: isolated container environments ensure consistent, dependency-free builds across systems.
